!function(c){"use strict";c(document).ready(function(){var r,a,t,i,o,s,n,d;r=!1,a=c(".woocommerce-product-search"),t=c(".ajax-search .woocommerce-product-search .search-field"),i=a.find("#security-search"),o=c(".ajax-search-result"),s=wp.template("ajax-live-search-template"),n=c(".input-dropdown-inner"),d=c("> .list-wrapper",n),c("body").on("click",function(){o.hide(),d.slideUp(100),n.removeClass("dd-shown")}),c(".input-dropdown-inner > a").on("click",function(e){return e.preventDefault(),n.hasClass("dd-shown")?(n.removeClass("dd-shown"),d.slideUp(100)):(n.addClass("dd-shown"),d.slideDown(100)),o.hide(),!1}),c(".input-dropdown-inner > .list-wrapper").on("click","a",function(e){e.preventDefault();var n=c(this).data("val"),e=c(this).text();c(".input-dropdown-inner > .list-wrapper").find(".current-item").removeClass("current-item"),c(this).parent().addClass("current-item"),0!=n?d.find("ul:not(.children) > li:first-child").show():0==n&&d.find("ul:not(.children) > li:first-child").hide(),c(".input-dropdown-inner > a span").text(e),c(".input-dropdown-inner > select").val(n).trigger("cat_selected"),d.slideUp(100),a.trigger("search",[i.val(),t.val(),n])}),c(".input-dropdown-inner > select").change(function(){var e=c(this).val(),n=c(this).find("option:selected").text();c(".input-dropdown-inner > .list-wrapper").find(".current-item").removeClass("current-item"),c(this).parent().addClass("current-item"),0!=e?d.find("ul:not(.children) > li:first-child").show():0==e&&d.find("ul:not(.children) > li:first-child").hide(),c(".input-dropdown-inner > a span").text(n)}),t.length&&t.keyup(function(){var e=c('select[name="product_cat"]',a).val();a.trigger("search",[i.val(),this.value,e])}).on("click",function(e){e.stopPropagation()}).on("focus",function(e){d.slideUp(100),n.removeClass("dd-shown"),2<this.value.length&&o.show()}),a.on("search",function(e,n,t,i){2<t.length?(r&&r.abort(),r=c.ajax({url:fazfoodAjax.ajaxurl,type:"post",data:{action:"fazfood_ajax_search_products",query:t,security_search:n,product_cat:i},beforeSend:function(){a.addClass("loading")},success:function(e){a.removeClass("loading");e=c.parseJSON(e);o.empty(),o.show(),c.each(e,function(e,n){o.append(s({url:n.url,title:n.value,img:n.img,price:n.price}))})}})):o.hide()})})}(jQuery);